#!/bin/sh

is_mute () {
    pactl list sinks | grep -qi "Mute: yes"
}

print_volume () {
    pactl list sinks | grep -A15 -P "(\#|â„–)$SINK" | \
    grep -P "\d+\s*\/\s*\d+\%" | head -1 | \
    awk "{print \$5}"
}

show_volume () {
    is_mute

    if [ $? -eq 0 ]; then
        echo "mute"
    else
        print_volume
    fi
}

show_volume
